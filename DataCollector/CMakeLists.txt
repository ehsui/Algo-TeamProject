# DataCollector/CMakeLists.txt

cmake_minimum_required(VERSION 3.15)
project(DataCollector CXX)

set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)

# 1. ì˜ì¡´ì„± íŒ¨í‚¤ì§€ ì°¾ê¸°
# Vcpkgê°€ ì œê³µí•˜ëŠ” ì •í™•í•œ íŒ¨í‚¤ì§€ ì´ë¦„ì„ ì‚¬ìš©í•˜ì—¬ ì°¾ìŠµë‹ˆë‹¤.
find_package(CURL CONFIG REQUIRED)
find_package(nlohmann_json CONFIG REQUIRED)

# SQLite3ëŠ” Vcpkgì—ì„œ 'unofficial-sqlite3' ì´ë¦„ìœ¼ë¡œ ì œê³µë˜ë¯€ë¡œ ì´ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
find_package(unofficial-sqlite3 CONFIG REQUIRED) 

# 2. ì‹¤í–‰ íŒŒì¼ ì •ì˜
# data_collector.cpp íŒŒì¼ì„ ì»´íŒŒì¼í•˜ì—¬ data_collector ì‹¤í–‰ íŒŒì¼ì„ ì •ì˜í•©ë‹ˆë‹¤.
add_executable(data_collector main.cpp)

# 3. ë¼ì´ë¸ŒëŸ¬ë¦¬ ì—°ê²° (ëª¨ë“  ì˜ì¡´ì„±ì„ data_collector ì‹¤í–‰ íŒŒì¼ì— ì—°ê²°)
target_link_libraries(data_collector PRIVATE
    CURL::libcurl
    nlohmann_json::nlohmann_json
    
    # ğŸ’¡ SQLite3 ì—°ê²°: 'unofficial-sqlite3' íŒ¨í‚¤ì§€ê°€ ì œê³µí•˜ëŠ” íƒ€ê²Ÿì„ ì‚¬ìš©í•©ë‹ˆë‹¤.
    unofficial::sqlite3::sqlite3 
)